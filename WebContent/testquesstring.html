<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="cpstyles.css" rel="stylesheet" type="text/css"/>
<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
<script src="jquery.js"></script>
<link href="editor.css" type="text/css" rel="stylesheet"/>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">


<script src="bootstrap/js/bootstrap.js"></script>
<script src="editor.js"></script>



<title>Campus Pedia</title>
</head>
<body oncontextmenu="return false">
  	

     <nav class="navbar navbar-default">
 <div class="container">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="">Add Questions</a></li>
        <li><a href="#">View Question Bank</a></li>
        <li><a href="#">Notifications</a></li>
     
      </ul>
     
      <ul class="nav navbar-nav navbar-right">
        <li><a href="cplogout.jsp">Logout</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
    <li class="active"><a href="">Profile</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</div>
</nav>
    
    <div class="container">

  <!-- Nav tabs -->
  <ul class="nav nav-tabs" role="tablist">
  <li role="presentation"><a href="#dash" aria-controls="dashboard" role="tab" data-toggle="tab">Dashboard</a></li>
    <li role="presentation" class="active"><a href="#addques" aria-controls="home" role="tab" data-toggle="tab">Add Questions</a></li>
    <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Profile</a></li>
    <li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">Messages</a></li>
    <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
  <br>
   <div role="tabpanel" class="tab-pane" id="dash">
   
  
   </div>
  
  
  <!-- ---------------TAB FOR QUESTION ENTRY-------------------------- -->
  
  
  <div role="tabpanel" class="tab-pane active" id="addques">
     <div class="tabcontentalign">
     <div class="row">
  <div class="col-md-10">
  <div class="panel panel-default">
  <div class="alert alert-success" id="alert1" role="alert"><strong> Question Has been Successfully Added</strong>   </div>
  
         <blockquote>
             <p>Add A Question to the Question Bank</p>
              </blockquote>
    <br>

 <div class="col-md-2">

    <strong>Year :</strong>  
   <select class="form-control" id="year">
  <option>1</option>
  <option>2</option> 
  <option>3</option>
  <!-- <option>4</option> -->
   </select> 
   </div>
  
   <div class="col-md-2">
   <strong>Semester :</strong> 
   <select class="form-control" id="sem">
  <!-- <option>1</option> -->
  <option>2</option>
  </select>
   </div>
 <div class="col-md-2">
  <strong>Regulation :</strong>
  <select class="form-control" id="reg">
 <!-- <option>R10</option> -->
  <option>R13</option>
  </select>
  </div>
 <div class="col-md-2">
  <strong>Branch:</strong> 
  <select class="form-control" id="branch">
  <option>CSE</option>
 <!-- <option>EEE</option>
  <option>ECE</option>
  <option>MECH</option>
  <option>CIVIL</option>
  <option>IT</option>
  <option>ECM</option>  --> 
  </select>
  </div>
  
   <div class="col-md-6">
   <strong>Subject:</strong> 
  <select class="form-control" id="subject">
   
  </select>
  
   </div> 
   
   <div class="col-md-2">
  <strong>Ques Type (MARKS):</strong>
  <select class="form-control" id="questype">
 <!-- <option>R10</option> -->
  <option>3</option>
  <option>4</option>
  <option>8</option>
  <option>16</option>
  </select>
  </div>
   
   
   
   
   <script type="text/javascript">
   var threetwoR13CSE = {"x32R13CSE" : 
       [
     //  {"sub" : "DWDM"},
      // {"sub" : "DAA"},
       //{"sub" : "SE"},
       {"sub" : "WEB TECHNOLOGIES"},
      
       ]};
   
  

	  var threetwoR13CSEitems= "";
   for (var i = 0; i < threetwoR13CSE.x32R13CSE.length; i++){
 	  threetwoR13CSEitems+= "<option>" + threetwoR13CSE.x32R13CSE[i].sub + "</option>";
   }
	  
  
   $("#subject").focus(function(){
		  var years = $("#year").val();
		  var sems = $("#sem").val();
		  var regs = $("#reg").val();
		  var branchs= $("#branch").val();
		  
		  var prepstring = years+sems+regs+branchs ; 
		 // alert(prepstring);
		  
			    
			    if(prepstring=="32R13CSE"){
			        $("#subject").html(threetwoR13CSEitems);
			    }
			   
			});
	
   
	$(document).ready( function() {
        $("#alert1").hide();
        $("#txtEditor").Editor();                    
   
      
        $("#insert").click(function(){
       	
        	$('#status').modal('show');
        	
        	var content = $('#txtEditorContent').text($('#txtEditor').Editor("getText")).val();
       	  
               //  alert(content);       	 
        	var years = $("#year").val();
		  var sems = $("#sem").val();
		  var regs = $("#reg").val();
		  var branchs= $("#branch").val();
		
		 
		
		  
		  var prepstring = years+sems+regs+branchs+i ; 
		alert(prepstring);
		  
				$.get("enterques.jsp", {
       				qid : $("#qid").val(),
       				year : $("#year").val(),
       				sem : $("#sem").val(),
       				reg : $("#reg").val(),
       				subname : $("#subject").val(),
       				questype : $("#questype").val(),			 				
       				question : content
       				
       			}, doUpdate);
       			
       			
       		

              		function doUpdate(response) {

       			var fulldatafromserver = response;
       			var fulldatafromservertrimmed = fulldatafromserver.trim();

       			if (fulldatafromservertrimmed == "success") {
       				
       				$('#status1').modal('show');
       			}

       			else {
       			  //alert("failed");
       			}
       			$('#status').modal('hide');
       		}

       	 
       	 
       	 });
        
   });

	   
		 
</script>
 <br><br><br><br><br><br><br><br>

  
  	<textarea id="txtEditor"></textarea> 
    	<textarea id="txtEditorContent" name="txtEditorContent" hidden=""></textarea>
    	<br>
    	 <button type="button" id="insert" class="btn btn-success">Insert this Question</button>
  
  <br><br><br>
    </div>
    
<br><br><br><br>
	
    
    

    
    
 </div>
 </div>
</div>
</div>

  <!-- ---------------TAB FOR QUESTION ENTRY-------------------------- -->
  
    <!-- ---------------SCRIPT FOR QUESTION ENTRY-------------------------- -->
  
 <script type="text/javascript">
			
		
	</script>

<!-- ---------------SCRIPT FOR QUESTION ENTRY-------------------------- -->

<!-- ---------------MODAL FOR QUESTION ENTRY-------------------------- -->


<div id="status" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-sm">
        <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Status</h4>
      </div>
      <div class="modal-body">
        <p>Please Wait ..... Inserting Question &hellip;</p>
        <div class="progress">
  <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
    <span class="sr-only">100% Complete</span>
  </div>
</div>
      </div>
      <div class="modal-footer">
        <p>Taking too long?? Click Here &hellip;</p>
      </div>
    </div><!-- /.modal-content -->
  </div>
</div>

<!-- ---------------MODAL FOR QUESTION ENTRY-------------------------- -->

<div id="status1" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" data-backdrop="static" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-sm">
        <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Status Of entry</h4>
      </div>
      <div class="modal-body">
        <p>Question Has Been Succesfully Inserted</p>
        
      </div>
     
      </div><!-- /.modal-content -->
  </div>
</div>


    <div role="tabpanel" class="tab-pane" id="profile">...</div>
    <div role="tabpanel" class="tab-pane" id="messages">...</div>
    <div role="tabpanel" class="tab-pane" id="settings">...</div>
  
</div>
 <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>&copy; 2015 Vamsi Krishna P &middot; <a href="#">Facebook</a> &middot; <a href="#">Twitter</a> &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
      </footer>
</div>
  
  
</body>
</html>